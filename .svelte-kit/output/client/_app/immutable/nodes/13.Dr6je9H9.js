import{S as T,i as D,s as L,d as S,p as O,t as E,h as F,a as H,w as p,v as M,x as k,b as m,c as b,l as A,g as C,z as w,y as P,e as y,C as x,B as z,E as B,F as N,G as R}from"../chunks/CFjQe0dZ.js";import"../chunks/IHki7fMi.js";import{w as $,i as q,a as G}from"../chunks/ClpmLFKC.js";import{D as J}from"../chunks/30YN5PXq.js";import{d as K}from"../chunks/DCInEoFh.js";function U(r){let e,n,u='<span class="text-blue-900">Admin</span> &gt; Create Document',f,c,l,o,_="Submit",h,t,i,d,v;return t=new J({props:{form:r[2],documentList:r[0].documents}}),{c(){e=y("form"),n=y("h1"),n.innerHTML=u,f=x(),c=y("hr"),l=x(),o=y("button"),o.textContent=_,h=x(),z(t.$$.fragment),this.h()},l(a){e=b(a,"FORM",{class:!0,action:!0,method:!0});var s=A(e);n=b(s,"H1",{class:!0,"data-svelte-h":!0}),C(n)!=="svelte-1uhiiy1"&&(n.innerHTML=u),f=w(s),c=b(s,"HR",{class:!0}),l=w(s),o=b(s,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),C(o)!=="svelte-r1ioyd"&&(o.textContent=_),h=w(s),P(t.$$.fragment,s),s.forEach(S),this.h()},h(){m(n,"class","text-3xl font-extrabold"),m(c,"class","border-2 border-blue-500"),m(o,"class","self-start bg-green-700 font-bold text-white text-sm px-3 py-1"),m(o,"type","submit"),m(e,"class","flex min-h-full w-1/2 flex-col gap-3 pt-10"),m(e,"action","?/create"),m(e,"method","POST")},m(a,s){H(a,e,s),p(e,n),p(e,f),p(e,c),p(e,l),p(e,o),p(e,h),M(t,e,null),r[5](e),i=!0,d||(v=k(e,"submit",r[4]),d=!0)},p(a,[s]){const g={};s&4&&(g.form=a[2]),s&1&&(g.documentList=a[0].documents),t.$set(g)},i(a){i||(F(t.$$.fragment,a),i=!0)},o(a){E(t.$$.fragment,a),i=!1},d(a){a&&S(e),O(t),r[5](null),d=!1,v()}}}function j(r,e,n){let u,{data:f}=e;const c=$({type:"document",form:{title:"",text:"",id:"",parent:""}});B(r,c,t=>n(2,u=t));let l;const o=async()=>{var d;const t=await fetch(l.action,{method:"POST",body:JSON.stringify(u)}),i=K(await t.text());console.log(i),i.type=="success"&&((d=i.data)==null?void 0:d.status)=="success"&&(window.alert("Saved successfully!"),await q()),G(i)};N(()=>{window.addEventListener("keydown",async t=>{t.ctrlKey&&t.key=="s"&&(t.preventDefault(),await o())})});let _=async t=>{t.preventDefault(),await o()};function h(t){R[t?"unshift":"push"](()=>{l=t,n(1,l)})}return r.$$set=t=>{"data"in t&&n(0,f=t.data)},[f,l,u,c,_,h]}class Y extends T{constructor(e){super(),D(this,e,j,U,L,{data:0})}}export{Y as component};
