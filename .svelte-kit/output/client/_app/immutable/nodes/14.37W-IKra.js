import{S as $e,i as et,s as tt,G as we,H as at,d as m,I as de,p as ke,r as Se,t as Ee,h as Pe,J as K,L as nt,a as L,w as i,v as Ne,x as $,b as c,c as g,l as D,g as Y,z as j,y as Te,e as v,C as I,B as Ce,K as Le,M as st,O as Ve,q as ne,A as le,D as ae,N as rt,E as ot,F as it}from"../chunks/CFjQe0dZ.js";import"../chunks/IHki7fMi.js";import{w as ft,i as ct,a as Ue,g as ut}from"../chunks/ClpmLFKC.js";import{e as X}from"../chunks/D6YF6ztN.js";import{P as pt,H as _t}from"../chunks/JUNMJAiN.js";import{P as dt}from"../chunks/BOXEUTAi.js";import{d as qe}from"../chunks/DCInEoFh.js";import{M as mt}from"../chunks/Cm9Mr3-3.js";function Be(l,e,t){const a=l.slice();return a[13]=e[t],a[14]=e,a[15]=t,a}function Fe(l,e,t){const a=l.slice();return a[16]=e[t],a[17]=e,a[18]=t,a}function ze(l,e,t){const a=l.slice();return a[16]=e[t],a[19]=e,a[20]=t,a}function Re(l,e,t){const a=l.slice();return a[21]=e[t],a[22]=e,a[23]=t,a}function Je(l,e,t){const a=l.slice();return a[24]=e[t],a}function Ke(l,e,t){const a=l.slice();return a[24]=e[t],a}function Ge(l){let e,t=l[24].field_name+"",a,s;return{c(){e=v("option"),a=ae(t),this.h()},l(o){e=g(o,"OPTION",{});var r=D(e);a=le(r,t),r.forEach(m),this.h()},h(){e.__value=s=l[24].field_name,K(e,e.__value)},m(o,r){L(o,e,r),i(e,a)},p(o,r){r&2&&t!==(t=o[24].field_name+"")&&ne(a,t),r&2&&s!==(s=o[24].field_name)&&(e.__value=s,K(e,e.__value))},d(o){o&&m(e)}}}function Qe(l){let e,t=l[24].field_name+"",a,s;return{c(){e=v("option"),a=ae(t),this.h()},l(o){e=g(o,"OPTION",{});var r=D(e);a=le(r,t),r.forEach(m),this.h()},h(){e.__value=s=l[24].field_name,K(e,e.__value)},m(o,r){L(o,e,r),i(e,a)},p(o,r){r&2&&t!==(t=o[24].field_name+"")&&ne(a,t),r&2&&s!==(s=o[24].field_name)&&(e.__value=s,K(e,e.__value))},d(o){o&&m(e)}}}function We(l){let e,t,a,s="scoped_id",o,r,b,y,E,O="-",d,_,w=X(l[1].variable_metadata),k=[];for(let x=0;x<w.length;x+=1)k[x]=Ge(Ke(l,w,x));let h=X(l[1].output_metadata),f=[];for(let x=0;x<h.length;x+=1)f[x]=Qe(Je(l,h,x));function P(){l[5].call(t,l[22],l[23])}function F(){l[6].call(b,l[22],l[23])}return{c(){e=v("span"),t=v("select"),a=v("option"),a.textContent=s;for(let x=0;x<k.length;x+=1)k[x].c();o=Ve();for(let x=0;x<f.length;x+=1)f[x].c();r=I(),b=v("input"),y=I(),E=v("button"),E.textContent=O,this.h()},l(x){e=g(x,"SPAN",{class:!0});var C=D(e);t=g(C,"SELECT",{class:!0,placeholder:!0});var p=D(t);a=g(p,"OPTION",{"data-svelte-h":!0}),Y(a)!=="svelte-pqcjqe"&&(a.textContent=s);for(let N=0;N<k.length;N+=1)k[N].l(p);o=Ve();for(let N=0;N<f.length;N+=1)f[N].l(p);p.forEach(m),r=j(C),b=g(C,"INPUT",{type:!0,class:!0,placeholder:!0}),y=j(C),E=g(C,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Y(E)!=="svelte-salmax"&&(E.textContent=O),C.forEach(m),this.h()},h(){a.__value="scoped_id",K(a,a.__value),c(t,"class","w-full bg-gray-50 p-1"),c(t,"placeholder","Attribute"),l[21].tag_name===void 0&&st(P),c(b,"type","text"),c(b,"class","w-full bg-gray-50 p-1"),c(b,"placeholder","Display Name"),c(E,"type","button"),c(E,"class","bg-gray-200 w-fit px-3"),c(e,"class","flex gap-1")},m(x,C){L(x,e,C),i(e,t),i(t,a);for(let p=0;p<k.length;p+=1)k[p]&&k[p].m(t,null);i(t,o);for(let p=0;p<f.length;p+=1)f[p]&&f[p].m(t,null);Le(t,l[21].tag_name,!0),i(e,r),i(e,b),K(b,l[21].display_name),i(e,y),i(e,E),d||(_=[$(t,"change",P),$(b,"input",F),$(E,"click",l[3](l[23]))],d=!0)},p(x,C){if(l=x,C&2){w=X(l[1].variable_metadata);let p;for(p=0;p<w.length;p+=1){const N=Ke(l,w,p);k[p]?k[p].p(N,C):(k[p]=Ge(N),k[p].c(),k[p].m(t,o))}for(;p<k.length;p+=1)k[p].d(1);k.length=w.length}if(C&2){h=X(l[1].output_metadata);let p;for(p=0;p<h.length;p+=1){const N=Je(l,h,p);f[p]?f[p].p(N,C):(f[p]=Qe(N),f[p].c(),f[p].m(t,null))}for(;p<f.length;p+=1)f[p].d(1);f.length=h.length}C&3&&Le(t,l[21].tag_name),C&3&&b.value!==l[21].display_name&&K(b,l[21].display_name)},d(x){x&&m(e),de(k,x),de(f,x),d=!1,Se(_)}}}function Xe(l){let e,t,a=l[16].field_name+"",s,o,r,b,y,E;function O(){l[7].call(r,l[19],l[20])}return{c(){e=v("span"),t=v("span"),s=ae(a),o=I(),r=v("input"),b=I(),this.h()},l(d){e=g(d,"SPAN",{class:!0});var _=D(e);t=g(_,"SPAN",{class:!0});var w=D(t);s=le(w,a),w.forEach(m),o=j(_),r=g(_,"INPUT",{type:!0,class:!0,placeholder:!0}),b=j(_),_.forEach(m),this.h()},h(){c(t,"class","w-full"),c(r,"type","text"),c(r,"class","w-full bg-gray-50 p-1"),c(r,"placeholder","Unit"),c(e,"class","flex items-center gap-1")},m(d,_){L(d,e,_),i(e,t),i(t,s),i(e,o),i(e,r),K(r,l[16].field_unit),i(e,b),y||(E=$(r,"input",O),y=!0)},p(d,_){l=d,_&1&&a!==(a=l[16].field_name+"")&&ne(s,a),_&3&&r.value!==l[16].field_unit&&K(r,l[16].field_unit)},d(d){d&&m(e),y=!1,E()}}}function Ye(l){let e,t,a=l[16].field_name+"",s,o,r,b,y,E;function O(){l[8].call(r,l[17],l[18])}return{c(){e=v("span"),t=v("span"),s=ae(a),o=I(),r=v("input"),b=I(),this.h()},l(d){e=g(d,"SPAN",{class:!0});var _=D(e);t=g(_,"SPAN",{class:!0});var w=D(t);s=le(w,a),w.forEach(m),o=j(_),r=g(_,"INPUT",{type:!0,class:!0,placeholder:!0}),b=j(_),_.forEach(m),this.h()},h(){c(t,"class","w-full"),c(r,"type","text"),c(r,"class","w-full bg-gray-50 p-1"),c(r,"placeholder","Unit"),c(e,"class","flex items-center gap-1")},m(d,_){L(d,e,_),i(e,t),i(t,s),i(e,o),i(e,r),K(r,l[16].field_unit),i(e,b),y||(E=$(r,"input",O),y=!0)},p(d,_){l=d,_&1&&a!==(a=l[16].field_name+"")&&ne(s,a),_&3&&r.value!==l[16].field_unit&&K(r,l[16].field_unit)},d(d){d&&m(e),y=!1,E()}}}function Ze(l){let e,t,a=l[13].tag+"",s,o,r,b,y,E;function O(){l[9].call(r,l[14],l[15])}return{c(){e=v("span"),t=v("span"),s=ae(a),o=I(),r=v("input"),b=I(),this.h()},l(d){e=g(d,"SPAN",{class:!0});var _=D(e);t=g(_,"SPAN",{class:!0});var w=D(t);s=le(w,a),w.forEach(m),o=j(_),r=g(_,"INPUT",{type:!0,class:!0,placeholder:!0}),b=j(_),_.forEach(m),this.h()},h(){c(t,"class","w-full"),c(r,"type","text"),c(r,"class","w-full bg-gray-50 p-1"),c(r,"placeholder","Description"),c(e,"class","flex items-center gap-1")},m(d,_){L(d,e,_),i(e,t),i(t,s),i(e,o),i(e,r),K(r,l[13].description),i(e,b),y||(E=$(r,"input",O),y=!0)},p(d,_){l=d,_&1&&a!==(a=l[13].tag+"")&&ne(s,a),_&3&&r.value!==l[13].description&&K(r,l[13].description)},d(d){d&&m(e),y=!1,E()}}}function ht(l){let e,t,a='<span class="text-sm">Project Name</span> <span class="text-gray-500 font-normal">Display name of the project.</span>',s,o,r,b,y,E='<span class="text-sm">Captions</span> <span class="text-gray-500 font-normal">Set the captions to be displayed under a solution.</span>',O,d,_,w,k="+",h,f,P,F=`<span class="text-sm">Variable Metadata</span> <span class="text-gray-500 font-normal">Set the measurement unit of each input parameter <br/>(or leave it
            blank if it&#39;s unitless)</span>`,x,C,p,N,W,oe=`<span class="text-sm">Output Metadata</span> <span class="text-gray-500 font-normal">Set the measurement unit of each output parameter <br/>(or leave
            it blank if it&#39;s unitless).</span>`,ie,ee,se,z,M,T='<span class="text-sm">Asset Metadata</span> <span class="text-gray-500 font-normal">Set the description of each asset.</span>',H,G,Z,Q,re,Ae='<span class="text-sm">Description</span> <span class="text-gray-500 font-normal">Edit the content on the about page.</span>',be,fe,te,ye,me,xe,De,ce=X(l[0].form.captions),V=[];for(let n=0;n<ce.length;n+=1)V[n]=We(Re(l,ce,n));let ue=X(l[0].form.vmetadata),U=[];for(let n=0;n<ue.length;n+=1)U[n]=Xe(ze(l,ue,n));let pe=X(l[0].form.ometadata),q=[];for(let n=0;n<pe.length;n+=1)q[n]=Ye(Fe(l,pe,n));let _e=X(l[0].form.ametadata),B=[];for(let n=0;n<_e.length;n+=1)B[n]=Ze(Be(l,_e,n));function lt(n){l[10](n)}let je={};return l[0].form.description!==void 0&&(je.text=l[0].form.description),te=new dt({props:je}),we.push(()=>at(te,"text",lt)),{c(){e=v("div"),t=v("span"),t.innerHTML=a,s=I(),o=v("input"),r=I(),b=v("div"),y=v("span"),y.innerHTML=E,O=I(),d=v("div");for(let n=0;n<V.length;n+=1)V[n].c();_=I(),w=v("button"),w.textContent=k,h=I(),f=v("div"),P=v("span"),P.innerHTML=F,x=I(),C=v("div");for(let n=0;n<U.length;n+=1)U[n].c();p=I(),N=v("div"),W=v("span"),W.innerHTML=oe,ie=I(),ee=v("div");for(let n=0;n<q.length;n+=1)q[n].c();se=I(),z=v("div"),M=v("span"),M.innerHTML=T,H=I(),G=v("div");for(let n=0;n<B.length;n+=1)B[n].c();Z=I(),Q=v("div"),re=v("span"),re.innerHTML=Ae,be=I(),fe=v("div"),Ce(te.$$.fragment),this.h()},l(n){e=g(n,"DIV",{class:!0});var S=D(e);t=g(S,"SPAN",{class:!0,"data-svelte-h":!0}),Y(t)!=="svelte-1dg6e0o"&&(t.innerHTML=a),s=j(S),o=g(S,"INPUT",{type:!0,class:!0}),S.forEach(m),r=j(n),b=g(n,"DIV",{class:!0});var A=D(b);y=g(A,"SPAN",{class:!0,"data-svelte-h":!0}),Y(y)!=="svelte-1onyp7u"&&(y.innerHTML=E),O=j(A),d=g(A,"DIV",{class:!0});var u=D(d);for(let J=0;J<V.length;J+=1)V[J].l(u);_=j(u),w=g(u,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),Y(w)!=="svelte-1d2wwfx"&&(w.textContent=k),u.forEach(m),A.forEach(m),h=j(n),f=g(n,"DIV",{class:!0});var R=D(f);P=g(R,"SPAN",{class:!0,"data-svelte-h":!0}),Y(P)!=="svelte-1m3t2f1"&&(P.innerHTML=F),x=j(R),C=g(R,"DIV",{class:!0});var Ie=D(C);for(let J=0;J<U.length;J+=1)U[J].l(Ie);Ie.forEach(m),R.forEach(m),p=j(n),N=g(n,"DIV",{class:!0});var he=D(N);W=g(he,"SPAN",{class:!0,"data-svelte-h":!0}),Y(W)!=="svelte-11k0dwz"&&(W.innerHTML=oe),ie=j(he),ee=g(he,"DIV",{class:!0});var Me=D(ee);for(let J=0;J<q.length;J+=1)q[J].l(Me);Me.forEach(m),he.forEach(m),se=j(n),z=g(n,"DIV",{class:!0});var ge=D(z);M=g(ge,"SPAN",{class:!0,"data-svelte-h":!0}),Y(M)!=="svelte-4ptkiy"&&(M.innerHTML=T),H=j(ge),G=g(ge,"DIV",{class:!0});var He=D(G);for(let J=0;J<B.length;J+=1)B[J].l(He);He.forEach(m),ge.forEach(m),Z=j(n),Q=g(n,"DIV",{class:!0});var ve=D(Q);re=g(ve,"SPAN",{class:!0,"data-svelte-h":!0}),Y(re)!=="svelte-1umraa2"&&(re.innerHTML=Ae),be=j(ve),fe=g(ve,"DIV",{class:!0});var Oe=D(fe);Te(te.$$.fragment,Oe),Oe.forEach(m),ve.forEach(m),this.h()},h(){c(t,"class","w-1/4 self-start p-1 font-bold text-black flex flex-col text-xs"),c(o,"type","text"),c(o,"class","w-full bg-gray-50 p-1"),c(e,"class","flex items-center gap-2 border-l-4 border-gray-500 bg-gray-100 p-2 text-sm"),c(y,"class","w-1/4 self-start p-1 font-bold text-black flex flex-col text-xs"),c(w,"type","button"),c(w,"class","bg-gray-200 w-fit px-3"),c(d,"class","flex w-full flex-col gap-1"),c(b,"class","flex items-center gap-2 border-l-4 border-gray-500 bg-gray-100 p-2 text-sm"),c(P,"class","w-1/4 self-start p-1 font-bold text-black flex flex-col text-xs"),c(C,"class","flex w-full flex-col gap-1"),c(f,"class","flex items-center gap-2 border-l-4 border-gray-500 bg-gray-100 p-2 text-sm"),c(W,"class","w-1/4 self-start p-1 font-bold text-black flex flex-col text-xs"),c(ee,"class","flex w-full flex-col gap-1"),c(N,"class","flex items-center gap-2 border-l-4 border-gray-500 bg-gray-100 p-2 text-sm"),c(M,"class","w-1/4 self-start p-1 font-bold text-black flex flex-col text-xs"),c(G,"class","flex w-full flex-col gap-1"),c(z,"class","flex items-center gap-2 border-l-4 border-gray-500 bg-gray-100 p-2 text-sm"),c(re,"class","w-1/4 self-start p-1 font-bold text-black flex flex-col text-xs"),c(fe,"class","flex w-full"),c(Q,"class","flex flex-col items-center gap-2 border-l-4 border-gray-500 bg-gray-100 p-2 text-sm mr-[-40%] mb-20")},m(n,S){L(n,e,S),i(e,t),i(e,s),i(e,o),K(o,l[0].form.human_name),L(n,r,S),L(n,b,S),i(b,y),i(b,O),i(b,d);for(let A=0;A<V.length;A+=1)V[A]&&V[A].m(d,null);i(d,_),i(d,w),L(n,h,S),L(n,f,S),i(f,P),i(f,x),i(f,C);for(let A=0;A<U.length;A+=1)U[A]&&U[A].m(C,null);L(n,p,S),L(n,N,S),i(N,W),i(N,ie),i(N,ee);for(let A=0;A<q.length;A+=1)q[A]&&q[A].m(ee,null);L(n,se,S),L(n,z,S),i(z,M),i(z,H),i(z,G);for(let A=0;A<B.length;A+=1)B[A]&&B[A].m(G,null);L(n,Z,S),L(n,Q,S),i(Q,re),i(Q,be),i(Q,fe),Ne(te,fe,null),me=!0,xe||(De=[$(o,"input",l[4]),$(w,"click",l[2])],xe=!0)},p(n,[S]){if(S&3&&o.value!==n[0].form.human_name&&K(o,n[0].form.human_name),S&11){ce=X(n[0].form.captions);let u;for(u=0;u<ce.length;u+=1){const R=Re(n,ce,u);V[u]?V[u].p(R,S):(V[u]=We(R),V[u].c(),V[u].m(d,_))}for(;u<V.length;u+=1)V[u].d(1);V.length=ce.length}if(S&1){ue=X(n[0].form.vmetadata);let u;for(u=0;u<ue.length;u+=1){const R=ze(n,ue,u);U[u]?U[u].p(R,S):(U[u]=Xe(R),U[u].c(),U[u].m(C,null))}for(;u<U.length;u+=1)U[u].d(1);U.length=ue.length}if(S&1){pe=X(n[0].form.ometadata);let u;for(u=0;u<pe.length;u+=1){const R=Fe(n,pe,u);q[u]?q[u].p(R,S):(q[u]=Ye(R),q[u].c(),q[u].m(ee,null))}for(;u<q.length;u+=1)q[u].d(1);q.length=pe.length}if(S&1){_e=X(n[0].form.ametadata);let u;for(u=0;u<_e.length;u+=1){const R=Be(n,_e,u);B[u]?B[u].p(R,S):(B[u]=Ze(R),B[u].c(),B[u].m(G,null))}for(;u<B.length;u+=1)B[u].d(1);B.length=_e.length}const A={};!ye&&S&1&&(ye=!0,A.text=n[0].form.description,nt(()=>ye=!1)),te.$set(A)},i(n){me||(Pe(te.$$.fragment,n),me=!0)},o(n){Ee(te.$$.fragment,n),me=!1},d(n){n&&(m(e),m(r),m(b),m(h),m(f),m(p),m(N),m(se),m(z),m(Z),m(Q)),de(V,n),de(U,n),de(q,n),de(B,n),ke(te),xe=!1,Se(De)}}}function gt(l,e,t){let{project:a}=e,{form:s}=e;function o(){t(0,s.form.captions=[...s.form.captions,{tag_name:"",display_name:""}],s)}function r(f){return()=>{t(0,s.form.captions=s.form.captions.filter((P,F)=>{if(F!=f)return P}),s)}}const b=new pt,y=new _t;function E(){s.form.human_name=this.value,t(0,s),t(1,a)}function O(f,P){f[P].tag_name=rt(this),t(0,s),t(1,a)}function d(f,P){f[P].display_name=this.value,t(0,s),t(1,a)}function _(f,P){f[P].field_unit=this.value,t(0,s),t(1,a)}function w(f,P){f[P].field_unit=this.value,t(0,s),t(1,a)}function k(f,P){f[P].description=this.value,t(0,s),t(1,a)}function h(f){l.$$.not_equal(s.form.description,f)&&(s.form.description=f,t(0,s))}return l.$$set=f=>{"project"in f&&t(1,a=f.project),"form"in f&&t(0,s=f.form)},l.$$.update=()=>{l.$$.dirty&1&&console.log(y.render(b.parse(s.form.description)))},[s,a,o,r,E,O,d,_,w,k,h]}class vt extends $e{constructor(e){super(),et(this,e,gt,ht,tt,{project:1,form:0})}}function bt(l){let e,t=l[0].message+"",a;return{c(){e=v("span"),a=ae(t),this.h()},l(s){e=g(s,"SPAN",{class:!0});var o=D(e);a=le(o,t),o.forEach(m),this.h()},h(){c(e,"class","border-l-green-800 border-l-[6px] bg-green-200 w-1/2 p-2")},m(s,o){L(s,e,o),i(e,a)},p(s,o){o&1&&t!==(t=s[0].message+"")&&ne(a,t)},d(s){s&&m(e)}}}function yt(l){let e,t=l[0].message+"",a;return{c(){e=v("span"),a=ae(t),this.h()},l(s){e=g(s,"SPAN",{class:!0});var o=D(e);a=le(o,t),o.forEach(m),this.h()},h(){c(e,"class","border-l-red-800 border-l-[6px] bg-red-200 w-1/2 p-2")},m(s,o){L(s,e,o),i(e,a)},p(s,o){o&1&&t!==(t=s[0].message+"")&&ne(a,t)},d(s){s&&m(e)}}}function xt(l){let e,t,a,s,o,r="Admin",b,y,E=l[3].form.project_name+"",O,d,_,w,k,h,f="Save",P,F,x="Delete",C,p,N,W,oe,ie,ee={};e=new mt({props:ee}),l[9](e);function se(T,H){if(T[0]&&T[0].code)return yt;if(T[0])return bt}let z=se(l),M=z&&z(l);return N=new vt({props:{form:l[3],project:l[4]}}),{c(){Ce(e.$$.fragment),t=I(),a=v("form"),s=v("h1"),o=v("span"),o.textContent=r,b=ae(` > Edit
        `),y=v("span"),O=ae(E),d=I(),_=v("hr"),w=I(),k=v("div"),h=v("button"),h.textContent=f,P=I(),F=v("button"),F.textContent=x,C=I(),M&&M.c(),p=I(),Ce(N.$$.fragment),this.h()},l(T){Te(e.$$.fragment,T),t=j(T),a=g(T,"FORM",{class:!0,action:!0,method:!0});var H=D(a);s=g(H,"H1",{class:!0});var G=D(s);o=g(G,"SPAN",{class:!0,"data-svelte-h":!0}),Y(o)!=="svelte-qs95ec"&&(o.textContent=r),b=le(G,` > Edit
        `),y=g(G,"SPAN",{class:!0});var Z=D(y);O=le(Z,E),Z.forEach(m),G.forEach(m),d=j(H),_=g(H,"HR",{class:!0}),w=j(H),k=g(H,"DIV",{class:!0});var Q=D(k);h=g(Q,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Y(h)!=="svelte-f5epia"&&(h.textContent=f),P=j(Q),F=g(Q,"BUTTON",{class:!0,type:!0,"data-svelte-h":!0}),Y(F)!=="svelte-9xjeub"&&(F.textContent=x),Q.forEach(m),C=j(H),M&&M.l(H),p=j(H),Te(N.$$.fragment,H),H.forEach(m),this.h()},h(){c(o,"class","text-blue-900"),c(y,"class","span underline decoration-dotted"),c(s,"class","text-3xl font-extrabold"),c(_,"class","border-2 border-blue-500"),c(h,"class","self-start bg-green-700 font-bold text-white text-sm px-3 py-1"),c(h,"type","submit"),c(F,"class","self-start bg-red-700 font-bold text-white text-sm px-3 py-1"),c(F,"type","button"),c(k,"class","flex gap-2"),c(a,"class","flex min-h-full w-1/2 flex-col gap-3 pt-10"),c(a,"action","?/update"),c(a,"method","POST")},m(T,H){Ne(e,T,H),L(T,t,H),L(T,a,H),i(a,s),i(s,o),i(s,b),i(s,y),i(y,O),i(a,d),i(a,_),i(a,w),i(a,k),i(k,h),i(k,P),i(k,F),i(a,C),M&&M.m(a,null),i(a,p),Ne(N,a,null),l[10](a),W=!0,oe||(ie=[$(F,"click",l[7]),$(a,"submit",l[6])],oe=!0)},p(T,[H]){const G={};e.$set(G),(!W||H&8)&&E!==(E=T[3].form.project_name+"")&&ne(O,E),z===(z=se(T))&&M?M.p(T,H):(M&&M.d(1),M=z&&z(T),M&&(M.c(),M.m(a,p)));const Z={};H&8&&(Z.form=T[3]),N.$set(Z)},i(T){W||(Pe(e.$$.fragment,T),Pe(N.$$.fragment,T),W=!0)},o(T){Ee(e.$$.fragment,T),Ee(N.$$.fragment,T),W=!1},d(T){T&&(m(t),m(a)),l[9](null),ke(e,T),M&&M.d(),ke(N),l[10](null),oe=!1,Se(ie)}}}function wt(l,e,t){let a,{data:s}=e,{form:o}=e;const{project:r}=s;let b=ft({type:"project",form:{project_name:r.project_name,human_name:r.metadata.human_name,captions:r.metadata.captions,description:r.metadata.description.text,vmetadata:r.variable_metadata,ometadata:r.output_metadata,ametadata:r.assets}});ot(l,b,h=>t(3,a=h));let y;const E=async()=>{var P;const h=await fetch(y.action,{method:"POST",body:JSON.stringify(a)}),f=qe(await h.text());f.type=="success"&&((P=f.data)==null?void 0:P.status)=="success"&&await ct(),Ue(f)};it(()=>{window.addEventListener("keydown",async h=>{h.ctrlKey&&h.key=="s"&&(h.preventDefault(),await E())})});let O=async h=>{(a.type=="project"||a.type=="document")&&(h.preventDefault(),await E())},d,_=async()=>{d.raise(`Are you sure you want to delete '${s.project.project_name}'?`,async()=>{var P;const h=await fetch("?/delete",{method:"POST",body:new FormData}),f=qe(await h.text());f.type=="success"&&((P=f.data)==null?void 0:P.status)=="success"&&(window.alert("Deleted "+s.project.project_name+"."),ut("/auth/admin/",{invalidateAll:!0})),Ue(f)},()=>{})};function w(h){we[h?"unshift":"push"](()=>{d=h,t(2,d)})}function k(h){we[h?"unshift":"push"](()=>{y=h,t(1,y)})}return l.$$set=h=>{"data"in h&&t(8,s=h.data),"form"in h&&t(0,o=h.form)},[o,y,d,a,r,b,O,_,s,w,k]}class Dt extends $e{constructor(e){super(),et(this,e,wt,xt,tt,{data:8,form:0})}}export{Dt as component};
